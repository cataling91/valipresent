<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎉 Vânătoarea de Comori de Ziua de Naștere 🎉</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
        }

        .container {
            max-width: 800px;
            width: 90%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .step {
            display: none;
            padding: 40px;
            text-align: center;
            min-height: 500px;
            animation: fadeIn 0.8s ease-in;
        }

        .step.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1 {
            color: #4a5568;
            margin-bottom: 20px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #2d3748;
            margin-bottom: 30px;
            font-size: 2em;
        }

        p {
            font-size: 1.2em;
            color: #4a5568;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .btn {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            width: 0%;
            transition: width 1s ease;
            border-radius: 4px;
        }

        /* Mini Game Styles */
        .riddle-input {
            padding: 15px;
            font-size: 1.1em;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            margin: 10px;
            width: 300px;
            max-width: 90%;
        }

        .riddle-input:focus {
            outline: none;
            border-color: #4facfe;
            box-shadow: 0 0 10px rgba(79, 172, 254, 0.3);
        }

        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 20px auto;
        }

        .memory-card {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: white;
            transition: all 0.3s ease;
            user-select: none;
        }

        .memory-card:hover {
            transform: scale(1.05);
        }

        .memory-card.flipped {
            background: white;
            color: #2d3748;
            border: 2px solid #667eea;
        }

        .memory-card.matched {
            background: linear-gradient(45deg, #48bb78, #68d391);
            transform: scale(0.95);
        }

        .pattern-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .pattern-btn {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            font-size: 1.5em;
            transition: all 0.3s ease;
        }

        .pattern-btn.red { background: #ff6b6b; }
        .pattern-btn.blue { background: #4facfe; }
        .pattern-btn.green { background: #48bb78; }
        .pattern-btn.yellow { background: #ffd93d; }

        .pattern-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .pattern-btn.active {
            animation: flash 0.3s ease;
        }

        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .maze {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 2px;
            max-width: 300px;
            margin: 20px auto;
            padding: 10px;
            background: #2d3748;
            border-radius: 10px;
        }

        .maze-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 20px 0;
            gap: 10px;
        }

        .control-row {
            display: flex;
            gap: 10px;
        }

        .arrow-btn {
            width: 60px;
            height: 60px;
            border: none;
            border-radius: 15px;
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .arrow-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.4);
        }

        .arrow-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(79, 172, 254, 0.3);
        }

        .maze-cell {
            width: 50px;
            height: 50px;
            background: #4a5568;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            transition: all 0.3s ease;
        }

        .maze-cell.path { background: #e2e8f0; }
        .maze-cell.player { background: #4facfe; color: white; }
        .maze-cell.goal { background: #48bb78; color: white; }

        .voucher-container {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 3px dashed #d63031;
        }

        .voucher-placeholder {
            background: rgba(255, 255, 255, 0.9);
            padding: 40px;
            border-radius: 10px;
            border: 2px dashed #74b9ff;
            margin: 20px 0;
            font-style: italic;
            color: #636e72;
        }

        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            pointer-events: none;
            z-index: 1000;
        }

        .emoji {
            font-size: 3em;
            margin: 20px 0;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Progress Bar -->
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>

        <!-- Step 1: Welcome -->
        <div class="step active" id="step1">
            <h1>🎉 La mulți ani! 🎉</h1>
            <div class="emoji">🎂</div>
            <p>Bine ai venit la vânătoarea ta specială de comori de ziua de naștere! Am pregătit o aventură magică special pentru tine.</p>
            <p>Completează 5 provocări captivante pentru a descoperi surpriza ta uimitoare!</p>
            <p>Ești gata să începi această căutare epică?</p>
            <button class="btn" onclick="nextStep()">Să începem aventura! 🚀</button>
        </div>

        <!-- Step 2: Riddle Challenge -->
        <div class="step" id="step2">
            <h2>🧩 Provocarea 1: Enigma Străveche</h2>
            <div class="emoji">🤔</div>
            <p>Un vrăjitor bătrân și înțelept ți-a lăsat această enigmă:</p>
            <p><strong>"Am găuri dar țin apă, sunt verde și perfect rotund. Pe terenuri mă găsești, rostogolindu-mă pe pământ. Ce sunt eu?"</strong></p>
            <input type="text" class="riddle-input" id="riddleAnswer" placeholder="Introdu răspunsul...">
            <br>
            <button class="btn" onclick="checkRiddle()">Trimite Răspunsul</button>
            <p id="riddleHint" style="color: #e74c3c; margin-top: 10px;"></p>
        </div>

        <!-- Step 3: Memory Game -->
        <div class="step" id="step3">
            <h2>🧠 Provocarea 2: Căutarea Memoriei</h2>
            <div class="emoji">🃏</div>
            <p>Potrivește perechile pentru a debloca următorul indiciu!</p>
            <div class="memory-grid" id="memoryGrid"></div>
            <p id="memoryStatus">Găsește toate cele 6 perechi!</p>
        </div>

        <!-- Step 4: Pattern Game -->
        <div class="step" id="step4">
            <h2>🎵 Provocarea 3: Modelul Mistic</h2>
            <div class="emoji">🎼</div>
            <p>Urmărește secvența cu atenție, apoi repetă-o!</p>
            <div class="pattern-buttons">
                <button class="pattern-btn red" onclick="playerInput(0)"></button>
                <button class="pattern-btn blue" onclick="playerInput(1)"></button>
                <button class="pattern-btn green" onclick="playerInput(2)"></button>
                <button class="pattern-btn yellow" onclick="playerInput(3)"></button>
            </div>
            <button class="btn" onclick="startPattern()" id="patternStart">Urmărește Modelul</button>
            <p id="patternStatus">Apasă 'Urmărește Modelul' pentru a începe!</p>
        </div>

        <!-- Step 5: Mini Maze -->
        <div class="step" id="step5">
            <h2>🗺️ Challenge 4: The Final Path</h2>
            <div class="emoji">🎯</div>
            <p>Navigate through the maze to reach your destination!</p>
            <p>Use the arrow buttons to move around:</p>
            <div class="maze" id="maze"></div>
            <div class="maze-controls">
                <div class="control-row">
                    <button class="arrow-btn" onclick="movePlayer('up')">⬆️</button>
                </div>
                <div class="control-row">
                    <button class="arrow-btn" onclick="movePlayer('left')">⬅️</button>
                    <button class="arrow-btn" onclick="movePlayer('down')">⬇️</button>
                    <button class="arrow-btn" onclick="movePlayer('right')">➡️</button>
                </div>
            </div>
            <p id="mazeStatus">Roll the ball into the hole! ⚪ → 🕳️</p>
        </div>

        <!-- Step 6: Final Reveal -->
        <div class="step" id="step6">
            <h2>🏆 Felicitări!</h2>
            <div class="emoji">🎊</div>
            <p>Ai completat toate provocările! Iată surpriza ta specială de ziua de naștere:</p>
            
            <div class="voucher-container">
                <h3>🎁 Cadoul tău de ziua de naștere! 🎁</h3>
                <div class="voucher-placeholder">
<img src="voucher-image.png" alt="Mini Golf Voucher" style="max-width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
                    <p><strong>Voucherul tău de Mini Golf!</strong></p>
                    <p>Felicitări! Ai câștigat o experiență fantastică de mini golf!</p>
                    <button class="btn" onclick="downloadVoucher()" style="background: linear-gradient(45deg, #48bb78, #68d391); margin-top: 20px;">
                        📄 Descarcă Voucherul PDF
                    </button>
                </div>
                <p>E timpul pentru o aventură distractivă de mini golf! Chiar dacă nu ai mai jucat înainte, va fi uimitor! 🏌️‍♂️</p>
            </div>
            
            <p>La mulți ani! Sper să ai cea mai minunată zi! 🎈</p>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let memoryCards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let patternSequence = [];
        let playerSequence = [];
        let patternRound = 1;
        let playerPos = { x: 0, y: 0 };
        let goalPos = { x: 4, y: 4 };

        // Progress bar update
        function updateProgress() {
            const progress = (currentStep - 1) * 20;
            document.getElementById('progress').style.width = progress + '%';
        }

        // Next step function
        function nextStep() {
            document.getElementById('step' + currentStep).classList.remove('active');
            currentStep++;
            document.getElementById('step' + currentStep).classList.add('active');
            updateProgress();
            
            if (currentStep === 3) initMemoryGame();
            if (currentStep === 5) initMaze();
            if (currentStep === 6) showConfetti();
        }

        // Riddle Challenge
        function checkRiddle() {
            const answer = document.getElementById('riddleAnswer').value.toLowerCase().trim();
            const correctAnswers = ['minge', 'minge de golf', 'mingeagolf'];
            
            if (correctAnswers.includes(answer)) {
                document.getElementById('riddleHint').style.color = '#48bb78';
                document.getElementById('riddleHint').textContent = '🎉 Corect! Foarte bine!';
                setTimeout(nextStep, 1500);
            } else {
                document.getElementById('riddleHint').textContent = '🤔 Încearcă din nou! Gândește-te la echipamente sportive...';
            }
        }

        // Memory Game
        function initMemoryGame() {
            const symbols = ['⭐', '🌟', '🎯', '🏆', '🎲', '🎪'];
            const cards = [...symbols, ...symbols];
            memoryCards = cards.sort(() => Math.random() - 0.5);
            
            const grid = document.getElementById('memoryGrid');
            grid.innerHTML = '';
            
            memoryCards.forEach((symbol, index) => {
                const card = document.createElement('div');
                card.className = 'memory-card';
                card.dataset.symbol = symbol;
                card.dataset.index = index;
                card.textContent = '?';
                card.onclick = () => flipCard(card, index);
                grid.appendChild(card);
            });
        }

        function flipCard(card, index) {
            if (flippedCards.length === 2 || card.classList.contains('flipped')) return;
            
            card.classList.add('flipped');
            card.textContent = card.dataset.symbol;
            flippedCards.push({ card, index });
            
            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 800);
            }
        }

        function checkMatch() {
            const [card1, card2] = flippedCards;
            
            if (card1.card.dataset.symbol === card2.card.dataset.symbol) {
                card1.card.classList.add('matched');
                card2.card.classList.add('matched');
                matchedPairs++;
                
                if (matchedPairs === 6) {
                    document.getElementById('memoryStatus').textContent = '🎉 Uimitor! Toate perechile găsite!';
                    setTimeout(nextStep, 1500);
                }
            } else {
                card1.card.classList.remove('flipped');
                card2.card.classList.remove('flipped');
                card1.card.textContent = '?';
                card2.card.textContent = '?';
            }
            
            flippedCards = [];
        }

        // Pattern Game
        function startPattern() {
            document.getElementById('patternStart').disabled = true;
            document.getElementById('patternStatus').textContent = 'Urmărește cu atenție...';
            
            // Add new color to sequence, avoiding consecutive same colors
            let newColor;
            do {
                newColor = Math.floor(Math.random() * 4);
            } while (patternSequence.length > 0 && newColor === patternSequence[patternSequence.length - 1]);
            
            patternSequence.push(newColor);
            playPattern();
        }

        function playPattern() {
            const buttons = document.querySelectorAll('.pattern-btn');
            let i = 0;
            
            const interval = setInterval(() => {
                if (i > 0) buttons[patternSequence[i-1]].classList.remove('active');
                if (i < patternSequence.length) {
                    buttons[patternSequence[i]].classList.add('active');
                } else {
                    clearInterval(interval);
                    document.getElementById('patternStatus').textContent = 'Acum repetă modelul!';
                    document.getElementById('patternStart').disabled = false;
                    document.getElementById('patternStart').textContent = 'Următoarea Rundă';
                }
                i++;
            }, 600);
        }

        function playerInput(buttonIndex) {
            if (patternSequence.length === 0) return;
            
            playerSequence.push(buttonIndex);
            
            if (playerSequence[playerSequence.length - 1] !== patternSequence[playerSequence.length - 1]) {
                document.getElementById('patternStatus').textContent = '❌ Greșit! Încearcă din nou.';
                playerSequence = [];
                patternSequence = [];
                patternRound = 1;
                document.getElementById('patternStart').textContent = 'Începe din Nou';
                document.getElementById('patternStart').disabled = false;
                return;
            }
            
            if (playerSequence.length === patternSequence.length) {
                if (patternRound >= 5) {
                    document.getElementById('patternStatus').textContent = '🎉 Perfect! Model stăpânit!';
                    setTimeout(nextStep, 1500);
                } else {
                    patternRound++;
                    playerSequence = [];
                    document.getElementById('patternStatus').textContent = `Runda ${patternRound}! Pregătește-te...`;
                    setTimeout(startPattern, 1000);
                }
            }
        }

        // Maze Game
        function initMaze() {
            const maze = document.getElementById('maze');
            maze.innerHTML = '';
            playerPos = { x: 0, y: 0 }; // Reset player position
            
            const mazeLayout = [
                [0, 0, 1, 0, 0],
                [0, 1, 1, 1, 0],
                [0, 1, 0, 1, 0],
                [0, 1, 0, 0, 0],
                [0, 0, 0, 1, 0]
            ];
            
            for (let y = 0; y < 5; y++) {
                for (let x = 0; x < 5; x++) {
                    const cell = document.createElement('div');
                    cell.className = 'maze-cell';
                    cell.id = `cell-${x}-${y}`;
                    
                    if (mazeLayout[y][x] === 0) {
                        cell.classList.add('path');
                    }
                    
                    if (x === 0 && y === 0) {
                        cell.classList.add('player');
                        cell.textContent = '⚪';
                    }
                    
                    if (x === 4 && y === 4) {
                        cell.classList.add('goal');
                        cell.textContent = '🕳️';
                    }
                    
                    maze.appendChild(cell);
                }
            }
        }

        function movePlayer(direction) {
            if (currentStep !== 5) return;
            
            let newX = playerPos.x;
            let newY = playerPos.y;
            
            switch(direction) {
                case 'left': newX--; break;
                case 'right': newX++; break;
                case 'up': newY--; break;
                case 'down': newY++; break;
                default: return;
            }
            
            // Check boundaries
            if (newX < 0 || newX > 4 || newY < 0 || newY > 4) return;
            
            const newCell = document.getElementById(`cell-${newX}-${newY}`);
            if (!newCell) return;
            
            // Check if it's a valid path or the goal
            if (!newCell.classList.contains('path') && !(newX === 4 && newY === 4)) return;
            
            // Remove player from old position
            const oldCell = document.getElementById(`cell-${playerPos.x}-${playerPos.y}`);
            if (oldCell) {
                oldCell.classList.remove('player');
                if (!(playerPos.x === 4 && playerPos.y === 4)) {
                    oldCell.textContent = '';
                }
            }
            
            // Add player to new position
            playerPos = { x: newX, y: newY };
            newCell.classList.add('player');
            
            // Check if reached goal
            if (newX === goalPos.x && newY === goalPos.y) {
                newCell.textContent = '🎉';
                document.getElementById('mazeStatus').textContent = '🎉 Ai băgat mingea în gaură!';
                setTimeout(nextStep, 1500);
            } else {
                newCell.textContent = '⚪';
            }
        }

        // Confetti effect
        function showConfetti() {
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = ['#ff6b6b', '#4facfe', '#48bb78', '#ffd93d'][Math.floor(Math.random() * 4)];
                    confetti.style.animation = 'fall 3s linear forwards';
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 3000);
                }, i * 100);
            }
        }

        // Download voucher function
        function downloadVoucher() {
            // Option 1: GitHub Pages (same repo)
            const link = document.createElement('a');
            link.href = 'voucher.pdf'; // For GitHub Pages - put PDF in same repo
            
            // Option 2: Azure Blob Storage (uncomment and replace URL)
            // link.href = 'https://yourstorageaccount.blob.core.windows.net/container/voucher.pdf';
            
            // Option 3: Any public URL (uncomment and replace URL)
            // link.href = 'https://your-domain.com/path/to/voucher.pdf';
            
            link.download = 'voucher.pdf';
            link.style.display = 'none';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // Show success message
            alert('🎉 Voucherul a fost descărcat! Verifică folderul de descărcări.');
        }

        // Initialize
        updateProgress();
    </script>
</body>
</html>